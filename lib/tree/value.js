"use strict";

var Node = require("./node");

var Value = function Value(value) {
    if (!value) {
        throw new Error("Value requires an array argument");
    }
    if (!Array.isArray(value)) {
        this.value = [value];
    } else {
        this.value = value;
    }
};
Value.prototype = new Node();
Value.prototype.type = "Value";
Value.prototype.accept = function (visitor) {
    if (this.value) {
        this.value = visitor.visitArray(this.value);
    }
};
Value.prototype.eval = function (context) {
    if (this.value.length === 1) {
        return this.value[0].eval(context);
    } else {
        return new Value(this.value.map(function (v) {
            return v.eval(context);
        }));
    }
};
Value.prototype.genCSS = function (context, output) {
    var i;
    for (i = 0; i < this.value.length; i++) {
        this.value[i].genCSS(context, output);
        if (i + 1 < this.value.length) {
            output.add(context && context.compress ? ',' : ', ');
        }
    }
};
module.exports = Value;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90cmVlL3ZhbHVlLmpzIl0sIm5hbWVzIjpbIk5vZGUiLCJyZXF1aXJlIiwiVmFsdWUiLCJ2YWx1ZSIsIkVycm9yIiwiQXJyYXkiLCJpc0FycmF5IiwicHJvdG90eXBlIiwidHlwZSIsImFjY2VwdCIsInZpc2l0b3IiLCJ2aXNpdEFycmF5IiwiZXZhbCIsImNvbnRleHQiLCJsZW5ndGgiLCJtYXAiLCJ2IiwiZ2VuQ1NTIiwib3V0cHV0IiwiaSIsImFkZCIsImNvbXByZXNzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxPQUFPQyxRQUFRLFFBQVIsQ0FBWDs7QUFFQSxJQUFJQyxRQUFRLFNBQVJBLEtBQVEsQ0FBVUMsS0FBVixFQUFpQjtBQUN6QixRQUFJLENBQUNBLEtBQUwsRUFBWTtBQUNSLGNBQU0sSUFBSUMsS0FBSixDQUFVLGtDQUFWLENBQU47QUFDSDtBQUNELFFBQUksQ0FBQ0MsTUFBTUMsT0FBTixDQUFjSCxLQUFkLENBQUwsRUFBMkI7QUFDdkIsYUFBS0EsS0FBTCxHQUFhLENBQUVBLEtBQUYsQ0FBYjtBQUNILEtBRkQsTUFHSztBQUNELGFBQUtBLEtBQUwsR0FBYUEsS0FBYjtBQUNIO0FBQ0osQ0FWRDtBQVdBRCxNQUFNSyxTQUFOLEdBQWtCLElBQUlQLElBQUosRUFBbEI7QUFDQUUsTUFBTUssU0FBTixDQUFnQkMsSUFBaEIsR0FBdUIsT0FBdkI7QUFDQU4sTUFBTUssU0FBTixDQUFnQkUsTUFBaEIsR0FBeUIsVUFBVUMsT0FBVixFQUFtQjtBQUN4QyxRQUFJLEtBQUtQLEtBQVQsRUFBZ0I7QUFDWixhQUFLQSxLQUFMLEdBQWFPLFFBQVFDLFVBQVIsQ0FBbUIsS0FBS1IsS0FBeEIsQ0FBYjtBQUNIO0FBQ0osQ0FKRDtBQUtBRCxNQUFNSyxTQUFOLENBQWdCSyxJQUFoQixHQUF1QixVQUFVQyxPQUFWLEVBQW1CO0FBQ3RDLFFBQUksS0FBS1YsS0FBTCxDQUFXVyxNQUFYLEtBQXNCLENBQTFCLEVBQTZCO0FBQ3pCLGVBQU8sS0FBS1gsS0FBTCxDQUFXLENBQVgsRUFBY1MsSUFBZCxDQUFtQkMsT0FBbkIsQ0FBUDtBQUNILEtBRkQsTUFFTztBQUNILGVBQU8sSUFBSVgsS0FBSixDQUFVLEtBQUtDLEtBQUwsQ0FBV1ksR0FBWCxDQUFlLFVBQVVDLENBQVYsRUFBYTtBQUN6QyxtQkFBT0EsRUFBRUosSUFBRixDQUFPQyxPQUFQLENBQVA7QUFDSCxTQUZnQixDQUFWLENBQVA7QUFHSDtBQUNKLENBUkQ7QUFTQVgsTUFBTUssU0FBTixDQUFnQlUsTUFBaEIsR0FBeUIsVUFBVUosT0FBVixFQUFtQkssTUFBbkIsRUFBMkI7QUFDaEQsUUFBSUMsQ0FBSjtBQUNBLFNBQUtBLElBQUksQ0FBVCxFQUFZQSxJQUFJLEtBQUtoQixLQUFMLENBQVdXLE1BQTNCLEVBQW1DSyxHQUFuQyxFQUF3QztBQUNwQyxhQUFLaEIsS0FBTCxDQUFXZ0IsQ0FBWCxFQUFjRixNQUFkLENBQXFCSixPQUFyQixFQUE4QkssTUFBOUI7QUFDQSxZQUFJQyxJQUFJLENBQUosR0FBUSxLQUFLaEIsS0FBTCxDQUFXVyxNQUF2QixFQUErQjtBQUMzQkksbUJBQU9FLEdBQVAsQ0FBWVAsV0FBV0EsUUFBUVEsUUFBcEIsR0FBZ0MsR0FBaEMsR0FBc0MsSUFBakQ7QUFDSDtBQUNKO0FBQ0osQ0FSRDtBQVNBQyxPQUFPQyxPQUFQLEdBQWlCckIsS0FBakIiLCJmaWxlIjoidmFsdWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTm9kZSA9IHJlcXVpcmUoXCIuL25vZGVcIik7XG5cbnZhciBWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmFsdWUgcmVxdWlyZXMgYW4gYXJyYXkgYXJndW1lbnRcIik7XG4gICAgfVxuICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IFsgdmFsdWUgXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG59O1xuVmFsdWUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcblZhbHVlLnByb3RvdHlwZS50eXBlID0gXCJWYWx1ZVwiO1xuVmFsdWUucHJvdG90eXBlLmFjY2VwdCA9IGZ1bmN0aW9uICh2aXNpdG9yKSB7XG4gICAgaWYgKHRoaXMudmFsdWUpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZpc2l0b3IudmlzaXRBcnJheSh0aGlzLnZhbHVlKTtcbiAgICB9XG59O1xuVmFsdWUucHJvdG90eXBlLmV2YWwgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgIGlmICh0aGlzLnZhbHVlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZVswXS5ldmFsKGNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgVmFsdWUodGhpcy52YWx1ZS5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgIHJldHVybiB2LmV2YWwoY29udGV4dCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG59O1xuVmFsdWUucHJvdG90eXBlLmdlbkNTUyA9IGZ1bmN0aW9uIChjb250ZXh0LCBvdXRwdXQpIHtcbiAgICB2YXIgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy52YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnZhbHVlW2ldLmdlbkNTUyhjb250ZXh0LCBvdXRwdXQpO1xuICAgICAgICBpZiAoaSArIDEgPCB0aGlzLnZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgb3V0cHV0LmFkZCgoY29udGV4dCAmJiBjb250ZXh0LmNvbXByZXNzKSA/ICcsJyA6ICcsICcpO1xuICAgICAgICB9XG4gICAgfVxufTtcbm1vZHVsZS5leHBvcnRzID0gVmFsdWU7XG4iXX0=